<!DOCTYPE html>
<html lang="en" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta name="author" content="Whale" />
  <meta name="description" content="南京大学软件学院大三在读" />
  
  
  <title>
    
      Web前端开发(4) JavaScript、DOM、BOM 
      
      
      |
    
     Whale&#39;s Blog
  </title>

  
    <link rel="apple-touch-icon" href="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/favicon.ico">
    <link rel="icon" href="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/favicon.ico">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <link rel="stylesheet" href="/css/intellij-light.css">
  <!-- 代码块风格 -->
  
    
<link rel="stylesheet" href="/css/figcaption/mac-block.css">

  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">Whale</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/categories/">
          <a href="/categories/">Categories</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Friends</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="/plugins/mathjax/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">Web前端开发(4) JavaScript、DOM、BOM</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
          2023-08-09 14:53:19
        </span>
        
              <span class="post-categories">
                <i class="iconfont icon-bookmark" title="Categories"></i>
                
                <span class="span--category">
                  <a href="/categories/NJU/" title="NJU">
                    <b>#</b> NJU
                  </a>
                </span>
                
                <span class="span--category">
                  <a href="/categories/NJU/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="Web前端开发">
                    <b>#</b> Web前端开发
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <h1 id="6-1-JS-Basics"><a href="#6-1-JS-Basics" class="headerlink" title="6.1 JS Basics"></a>6.1 JS Basics</h1><h2 id="1-客户端基础"><a href="#1-客户端基础" class="headerlink" title="1 客户端基础"></a>1 客户端基础</h2><h3 id="1-1-客户端脚本"><a href="#1-1-客户端脚本" class="headerlink" title="1.1 客户端脚本"></a>1.1 客户端脚本</h3><p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221125151322702.png" alt="image-20221125151322702" style="zoom:80%;" /></p>
<h3 id="1-2-客户端编程"><a href="#1-2-客户端编程" class="headerlink" title="1.2 客户端编程"></a>1.2 客户端编程</h3><ul>
<li>HTML适合于开发静态页面<ul>
<li>可以指定文本/图像布局, 链接…</li>
<li>Web页面每次访问时看起来都是一样的</li>
<li>为了开发交互/响应式页面, 必须以某种形式集成编程</li>
</ul>
</li>
<li>客户端编程<ul>
<li>程序是用单独的编程(或脚本)语言编写的<ul>
<li>例如, JavaScript, JScript, VBScript</li>
</ul>
</li>
<li>程序被嵌入到Web页面的HTML中, 使用(HTML)标记来标识程序组件<ul>
<li>例如, <code>&lt;script type=&quot;text/javascript&quot;&gt; ... &lt;/script&gt;</code></li>
</ul>
</li>
<li>浏览器在加载页面时执行程序, 将程序的动态输出与HTML的静态内容集成在一起</li>
<li>还允许用户(客户端)输入信息并对其进行处理, 可在将输入提交到远程服务器之前对其进行验证</li>
</ul>
</li>
</ul>
<h3 id="1-3-客户端与服务器端编程"><a href="#1-3-客户端与服务器端编程" class="headerlink" title="1.3 客户端与服务器端编程"></a>1.3 客户端与服务器端编程</h3><ul>
<li>客户端脚本(JavaScript)的好处:<ul>
<li>可用性: 可以修改页面而不必返回到服务器(更快的UI)</li>
<li>效率: 可以在不等待服务器的情况下对页面进行小而快速的更改</li>
<li>事件驱动: 可以响应用户操作, 如点击和按键源代码</li>
<li>平台独立性: 任何支持脚本的浏览器都可以解释代码</li>
</ul>
</li>
<li>服务器端编程(例如PHP)的好处:<ul>
<li>安全性: 可以访问服务器的私有数据;客户端看不到</li>
<li>兼容性: 不受浏览器兼容性问题的影响</li>
<li>功能全: 可以写文件, 打开与服务器的连接, 连接数据库…</li>
</ul>
</li>
</ul>
<h3 id="1-4-常见脚本任务"><a href="#1-4-常见脚本任务" class="headerlink" title="1.4 常见脚本任务"></a>1.4 常见脚本任务</h3><ul>
<li>向Web页面添加动态特性<ul>
<li>表单数据的验证(可能是最常用的应用程序)</li>
<li>图像翻转</li>
<li>时间敏感或随机页面元素</li>
<li>处理cookies</li>
</ul>
</li>
<li>定义Web接⼝<ul>
<li>利用按钮, 文本框, 可点击的图像, 提示等</li>
</ul>
</li>
<li>客户端脚本的限制<ul>
<li>因为脚本代码嵌入在页面中, 所以它对外界是可见的</li>
<li>出于安全原因, 脚本所能做的事情是有限的<ul>
<li>例如, 无法访问客户端的硬盘驱动器</li>
</ul>
</li>
<li>因为它们被设计为在任何机器平台上运行, 所以脚本不包含特定于平台的命令</li>
<li>脚本语言功能不全<ul>
<li>例如, JavaScript对象非常粗糙, 不适合大型项目开发</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-JavaScript概述"><a href="#2-JavaScript概述" class="headerlink" title="2 JavaScript概述"></a>2 JavaScript概述</h2><h3 id="2-1-何为JavaScript"><a href="#2-1-何为JavaScript" class="headerlink" title="2.1 何为JavaScript"></a>2.1 何为JavaScript</h3><ul>
<li>从”玩具”到流行<ul>
<li>网页, AJAX, Web 2.0／3.0</li>
<li>大量web应用</li>
<li>APP</li>
<li>控制硬件, Arduino, Tessel, Espruino, NodeBots等, 应用于嵌入式系统、IOT、机器人等领域</li>
<li>桌面程序(Electron), SpaceX 龙飞船的触控 UI 基于 Chromium + JavaScript 技术栈开发, 开放的 Web 技术就此成为了人类首个应用到载人航天领域的 GUI 技术栈</li>
<li>服务端</li>
<li>命令行⼯具</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Always bet on JS</strong></p>
<ul>
<li>Brendan Eich 在 2011 年一次名为「JSLOL」[Eich 2011e] 的会议演讲中, 是这么描述 JavaScript 的：<ul>
<li>最早他们说 JavaScript 没法做「富互联网应用」。</li>
<li>然后他们说 JavaScript 没法快起来。</li>
<li>然后他们说 JavaScript 没法修复语言问题。</li>
<li>然后他们说 JavaScript 没法做多核与 GPU 运算。</li>
<li>他们每次都错了！我建议：永远押宝在 JS。</li>
</ul>
</li>
</ul>
<p><strong>阿特伍德定律</strong></p>
<ul>
<li>Atwood’s Law是Jeff Atwood在2007年提出的<ul>
<li>“any application that can be written in JavaScript, will eventually be written in JavaScript.”</li>
<li>任何可以用JavaScript来写的应用, 最终都将用JavaScript来写</li>
</ul>
</li>
</ul>
<p><strong>发展史</strong></p>
<ul>
<li>由Netscape的Brendan Eich 开发</li>
<li>JScript , Microsoft</li>
<li>European Computer Manufacturers Association (ECMA)标准化<ul>
<li><a target="_blank" rel="noopener" href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></li>
</ul>
</li>
<li>ECMAScript 2015</li>
<li>ECMAScript 2016</li>
</ul>
</blockquote>
<h3 id="2-2-JS的优势"><a href="#2-2-JS的优势" class="headerlink" title="2.2 JS的优势"></a>2.2 JS的优势</h3><ul>
<li>性能<ul>
<li>JIT</li>
<li>垃圾收集和动态绑定的开销</li>
</ul>
</li>
<li>对象<ul>
<li>JavaScript使用原型继承模型</li>
</ul>
</li>
<li>语法<ul>
<li>对于任何有 C 家族语言使用经验的人来说很熟悉, 比如c++、Java、c# 和 PHP</li>
</ul>
</li>
<li>一等函数<ul>
<li>JavaScript中的几乎所有东西都是对象, 包括函数。</li>
</ul>
</li>
<li>事件<ul>
<li>在浏览器内部, 一切都在一个事件循环中运行</li>
</ul>
</li>
<li>可重用性<ul>
<li>最可移植、可重用的代码</li>
<li>JavaScript可以模块化和封装</li>
</ul>
</li>
</ul>
<h3 id="2-3-JS概述"><a href="#2-3-JS概述" class="headerlink" title="2.3 JS概述"></a>2.3 JS概述</h3><ul>
<li>JavaScript 是一种脚本语言</li>
<li>JavaScript 程序由 JavaScript 解释器/引擎计算和执行<ul>
<li>Rhino, SpiderMonkey, V8, Squirrelfish</li>
</ul>
</li>
<li>主流用途和用法:<ul>
<li>在运行时公开应用程序的对象, 用于定制/嵌入用户逻辑。</li>
<li>改进网站的用户界面</li>
<li>让你的网站更容易浏览</li>
<li>在不重新加载页面的情况下替换页面上的图像</li>
<li>表单验证</li>
<li>页面修饰和特效</li>
<li>动态内容操作</li>
<li>新兴的Web 2.0:客户端功能在客户端实现</li>
<li>还有很多…</li>
</ul>
</li>
</ul>
<h3 id="2-4-JavaScript-vs-Java"><a href="#2-4-JavaScript-vs-Java" class="headerlink" title="2.4 JavaScript vs. Java"></a>2.4 JavaScript vs. Java</h3><ul>
<li>解释的, 不是编译的</li>
<li>更宽松的语法和规则<ul>
<li>更少、更”松散”的数据类型</li>
<li>变量不需要声明 </li>
<li>错误通常是无声的(少数例外)</li>
</ul>
</li>
<li>关键结构是函数而不是类<ul>
<li>“一等”函数</li>
</ul>
</li>
<li>包含在网页中, 并与其HTML/CSS内容集成</li>
</ul>
<h3 id="2-5-使用-lt-script-gt"><a href="#2-5-使用-lt-script-gt" class="headerlink" title="2.5 使用&lt;script&gt;"></a>2.5 使用<code>&lt;script&gt;</code></h3><ul>
<li><p>为网页嵌入脚本</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>	script commands and comments<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>访问外部的脚本</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span><br>	script commands and comments<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-JavaScript基本语法"><a href="#3-JavaScript基本语法" class="headerlink" title="3 JavaScript基本语法"></a>3 JavaScript基本语法</h2><h3 id="3-1-语言基础"><a href="#3-1-语言基础" class="headerlink" title="3.1 语言基础"></a>3.1 语言基础</h3><ul>
<li>JavaScript大小写敏感<ul>
<li>HTML 大小写不敏感; onClick, ONCLICK, … are HTML</li>
</ul>
</li>
<li>以回车或分号(;)结束的语句<ul>
<li><code>x = x + 1;</code> same as <code>x = x + 1</code></li>
<li>分号减少错误</li>
</ul>
</li>
<li><p>JavaScript 代码块</p>
<ul>
<li>JavaScript 语句通过代码块的形式进行组合</li>
<li>块由左花括号开始, 由右花括号结束</li>
<li>块的作用是使语句序列一起执行</li>
</ul>
</li>
<li><p>注释: 与Java的注释语法相同</p>
</li>
<li><p>if/else 条件语句</p>
<ul>
<li>结构与Java的if/else语句相同</li>
<li>JavaScript几乎允许任何东西作为条件</li>
</ul>
</li>
<li><p>for循环</p>
<ul>
<li>for、for-in、for-of</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x;<br><span class="hljs-keyword">var</span> txt=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">var</span> person=&#123;<span class="hljs-attr">fname</span>:<span class="hljs-string">&quot;Bill&quot;</span>,<span class="hljs-attr">lname</span>:<span class="hljs-string">&quot;Gates&quot;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">56</span>&#125;;<br><span class="hljs-keyword">for</span> (x <span class="hljs-keyword">in</span> person) &#123;<br>     txt = txt + person[x];<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>while, do/while</p>
<ul>
<li>同Java</li>
<li>break 和 continue 关键字也和 Java 中的一样</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">cars=[<span class="hljs-string">&quot;BMW&quot;</span>,<span class="hljs-string">&quot;Volvo&quot;</span>,<span class="hljs-string">&quot;Saab&quot;</span>,<span class="hljs-string">&quot;Ford&quot;</span>];<br><span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (cars[i])&#123;<br>     <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(cars[i] + <span class="hljs-string">&quot;&lt;br&gt;&quot;</span>);<br>     i++;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-2-对象"><a href="#3-2-对象" class="headerlink" title="3.2 对象"></a>3.2 对象</h3><ul>
<li>对象是命名属性的集合<ul>
<li>简单视图: 哈希表或关联数组</li>
<li>可以通过一组 <code>名称:值</code> 对进行定义<ul>
<li><code>objBob = &#123;name: &quot;Bob&quot;, grade: &#39;A&#39;, level: 3&#125;;</code></li>
</ul>
</li>
<li>新成员可以随时添加<ul>
<li><code>objBob.fullname = &#39;Robert&#39;;</code></li>
</ul>
</li>
<li>可以有方法</li>
</ul>
</li>
<li>数组、函数也是对象<ul>
<li>对象的属性可以是函数(=方法)</li>
</ul>
</li>
</ul>
<h3 id="3-3-变量与类型"><a href="#3-3-变量与类型" class="headerlink" title="3.3 变量与类型"></a>3.3 变量与类型</h3><ul>
<li>变量<ul>
<li><code>var, let, const(case sensitive)</code></li>
<li>Define implicitly by its first use, which must be an assignment<ul>
<li>Implicit definition has global scope, even if it occurs in nested scope? </li>
</ul>
</li>
</ul>
</li>
<li>类型没有指定, 但JS确实有类型(“loosely typed”)<ul>
<li><code>Number, Boolean, String, Array, Object, Function, Null, Undefined</code></li>
<li>can find out a variable’s type by calling <code>typeof</code></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;Gates&quot;</span>, age = <span class="hljs-number">60</span>, job = <span class="hljs-string">&quot;CEO&quot;</span>;<br><span class="hljs-keyword">var</span> carname = <span class="hljs-string">&quot;Benz&quot;</span>;<br><span class="hljs-keyword">var</span> carname;<br></code></pre></td></tr></table></figure>
<h3 id="3-4-数值"><a href="#3-4-数值" class="headerlink" title="3.4 数值"></a>3.4 数值</h3><ul>
<li>数值在内部是通过双精度浮点型的形式表示的 (没有 int vs. double)</li>
<li>同样的运算符:<code>+ - * / % ++ --</code> etc</li>
<li>优先级相似java</li>
<li>许多运算符自动转换类型<ul>
<li><code>&quot;2&quot; * 3</code> is <code>6</code></li>
</ul>
</li>
</ul>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221129170410768.png" alt="image-20221129170410768" style="zoom:80%;" /></p>
<h3 id="3-5-IEEE-754"><a href="#3-5-IEEE-754" class="headerlink" title="3.5 IEEE 754"></a>3.5 IEEE 754</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://0.30000000000000004.com/#ada">https://0.30000000000000004.com/#ada</a></p>
</li>
<li><p>EcmaScript的安全整数</p>
<ul>
<li>Number.MAX_SAFE_INTEGER, 9007199254740991</li>
<li>最大安全整数和最小安全整数之间的整数统称为安全整数</li>
<li>54位有符号整数类型</li>
<li>只有在所有的运算因子、运算结果以及中间结果都是安全整数的情况下, 才能精确的整数计算, 才适用于加法结合律和乘法分配律, 一旦有一项的值不是安全整数, 变不可控。</li>
</ul>
</li>
<li><p>JS仅有number这个数值类型, 而number采用IEEE 754 64位双精度浮点数编码。而浮点数表示方式具有以下特点：</p>
<ul>
<li>浮点数可表示的值范围比同等位数的整数表示方式的值范围要大得多</li>
<li>浮点数无法精确表示其值范围内的所有数值, 而有符号和无符号整数则是精确表示其值范围内的 每个数值</li>
<li>浮点数只能精确表示 m * $2^e$的数值</li>
<li>当 biased-exponent 为 $2^{e-1}$ - 1 时, 浮点数能精确表示该范围内的各整数值</li>
<li>当 biased-exponent 不为 $2^{e-1}$ - 1时 , 浮点数不能精确表示该范围内的各整数值</li>
</ul>
</li>
<li><p>由于部分数值无法精确表示(存储), 于是在运算统计后偏差会愈见明显。</p>
</li>
<li><p>通常推荐先将数字转换成整数。</p>
</li>
<li><p>比较两个浮点数差值的绝对值, 是否超过误差精度</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">compareTwo</span>(<span class="hljs-params">n1,n2</span>) &#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>( n1 - n2 ) &lt; <span class="hljs-title class_">Number</span>.<span class="hljs-property">EPSILON</span>;<br>&#125;<br><span class="hljs-title function_">compareTwo</span>(<span class="hljs-number">0.1</span>+<span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>);<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-6-String"><a href="#3-6-String" class="headerlink" title="3.6 String"></a>3.6 String</h3><ul>
<li><p>方法: <code>charAt, charCodeAt, fromCharCode, indexOf, lastIndexOf, replace, split, substring, toLowerCase, toUpperCase</code></p>
<ul>
<li><code>charAt</code> returns a one-letter String (there is no char type)</li>
</ul>
</li>
<li><p>length 属性 (非Java中的方法)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> txt = <span class="hljs-string">&quot;Hello world!&quot;</span>;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(txt.<span class="hljs-property">length</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>&quot;&quot;</code> 或 <code>&#39;&#39;</code></p>
</li>
<li><p>连接 <code>+</code></p>
<ul>
<li><code>1 + 1</code> is 2, <code>&quot;1&quot; + 1</code> is “11”</li>
</ul>
</li>
<li><p>转义, 与Java中的相同: <code>\&#39; \&quot; \&amp; \n \t \\</code> </p>
</li>
<li><p>在数值和字符串之间转换</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">30</span>;<br><span class="hljs-keyword">var</span> s1 = <span class="hljs-string">&quot;&quot;</span> + x; <span class="hljs-comment">//&quot;30&quot;</span><br><span class="hljs-keyword">var</span> n1 = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;10 oranges&quot;</span>); <span class="hljs-comment">//10</span><br><span class="hljs-keyword">var</span> n2 = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//NaN</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>访问字符串的字符</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> firstLetter = s[<span class="hljs-number">0</span>]; <span class="hljs-comment">//fails in IE</span><br><span class="hljs-keyword">var</span> firstLetter = s.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>);<br><span class="hljs-keyword">var</span> lastLetter = s.<span class="hljs-title function_">charAt</span>(s.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure>
</li>
<li><p>字符串拼接变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// old</span><br><span class="hljs-keyword">var</span> message = <span class="hljs-string">&quot;The user &quot;</span>+ user.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot; &quot;</span> + user.<span class="hljs-property">lastName</span> +<br><span class="hljs-string">&quot; cannot be &quot;</span>+ action + <span class="hljs-string">&quot;because &quot;</span> + validationError;<br><span class="hljs-comment">// new</span><br><span class="hljs-keyword">var</span> message = <span class="hljs-string">`The user <span class="hljs-subst">$&#123;user.firstName&#125;</span> <span class="hljs-subst">$&#123;user.lastName&#125;</span> cannot be</span><br><span class="hljs-string"> <span class="hljs-subst">$&#123;action&#125;</span> because <span class="hljs-subst">$&#123;validationError&#125;</span>`</span>;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-7-布尔式犯蠢类型"><a href="#3-7-布尔式犯蠢类型" class="headerlink" title="3.7 布尔式犯蠢类型"></a>3.7 布尔式犯蠢类型</h3><ul>
<li><p>任何值都可以用作布尔值</p>
<ul>
<li>false: 0, -0, 0.0, NaN, “”, null, undefined</li>
<li>true: anything else</li>
</ul>
</li>
<li><p>将值显式转换为布尔值</p>
<ul>
<li><code>var boolValue = Boolean(otherValue);</code></li>
<li><code>var boolValue = !!(otherValue);</code></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span>(o !== <span class="hljs-literal">null</span>) ...<br>!!<span class="hljs-string">&quot;&quot;</span> -&gt; <span class="hljs-literal">false</span><br>!![] -&gt; <span class="hljs-literal">true</span><br>+!![] -&gt; <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<h3 id="3-8-null-NaN-undefined"><a href="#3-8-null-NaN-undefined" class="headerlink" title="3.8 null, NaN, undefined"></a>3.8 null, NaN, undefined</h3><ul>
<li>NaN<ul>
<li>isNaN()</li>
<li>typeof(NaN) -&gt; number</li>
<li>比如字符串转换成数值失败时</li>
<li>与所有的值都不相等。包括它自己</li>
</ul>
</li>
<li>undefined</li>
<li>null<ul>
<li>typeof(null) —&gt; object</li>
</ul>
</li>
<li>(-)Infinity：大到无法表示的值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1000</span> / <span class="hljs-number">0</span>;  <span class="hljs-comment">// number</span><br><span class="hljs-built_in">isNaN</span>(x);  <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>
<h3 id="3-9"><a href="#3-9" class="headerlink" title="3.9 ==="></a>3.9 <code>===</code></h3><ul>
<li>平常业务中比较建议尽量不要使用 <code>==</code> 和 <code>!=</code>。这两个比较的时候会做一些强制的类型转换, 所以比较结果很可能有误。务必使用 <code>=== 和 !==</code>。</li>
</ul>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221129174208384.png" alt="image-20221129174208384" style="zoom:80%;" /></p>
<blockquote>
<p>undifined == null  -&gt; true</p>
</blockquote>
<h3 id="3-10-Math对象"><a href="#3-10-Math对象" class="headerlink" title="3.10 Math对象"></a>3.10 Math对象</h3><ul>
<li>methods: abs, ceil, cos, floor, log, max, min, pow, random, round, sin, sqrt, tan</li>
<li>properties: E, PI</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> pi_value = <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>;<br><span class="hljs-keyword">var</span> sqrt_value = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-number">30</span>);<br></code></pre></td></tr></table></figure>
<h3 id="3-11-逻辑运算符"><a href="#3-11-逻辑运算符" class="headerlink" title="3.11 逻辑运算符"></a>3.11 逻辑运算符</h3><ul>
<li><p><code>&gt; &lt; &gt;= &lt;= &amp;&amp; || ! == != === !==</code></p>
</li>
<li><p>大多数逻辑运算符自动转换类型</p>
<ul>
<li>5 &lt; “7” 为true</li>
<li>42 == 42.0 为 true</li>
<li>“5.0” == 5 为 true</li>
</ul>
</li>
<li><p><code>===</code> 与 <code>!==</code>是严格的相等检查, 同时比较类型和值</p>
<ul>
<li>“5.0” === 5 is false</li>
</ul>
</li>
</ul>
<h3 id="3-12-数组"><a href="#3-12-数组" class="headerlink" title="3.12 数组"></a>3.12 数组</h3><ul>
<li>两种方法初始化数组</li>
<li>长度属性(在添加元素时根据需要增长)</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> empty = [];<br><span class="hljs-keyword">var</span> mycars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();<br>mycars[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Saab&quot;</span><br>mycars[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Volvo&quot;</span><br>mycars[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;BMW&quot;</span><br><span class="hljs-keyword">var</span> misc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1.1</span>, <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;BMW&quot;</span>);<br></code></pre></td></tr></table></figure>
<h3 id="3-13-Array方法"><a href="#3-13-Array方法" class="headerlink" title="3.13 Array方法"></a>3.13 Array方法</h3><ul>
<li>数组可以实现多种数据结构: list, queue, stack, …</li>
<li>方法: concat, join, pop, push, reverse, shift, slice, sort, splice, toString, unshift<ul>
<li>push and pop add / remove from back</li>
<li>unshift and shift add / remove from front</li>
<li>shift and pop return the element that is removed</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> fruits = [<span class="hljs-string">&quot;Banana&quot;</span>, <span class="hljs-string">&quot;Orange&quot;</span>];<br>fruits.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;Apple&quot;</span>);<br>fruits.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">&quot;Mango&quot;</span>);<br>fruits.<span class="hljs-title function_">pop</span>();<br>fruits.<span class="hljs-title function_">shift</span>();<br>fruits.<span class="hljs-title function_">sort</span>();<br><span class="hljs-title function_">alert</span>(fruits);<br></code></pre></td></tr></table></figure>
<h3 id="3-14-函数"><a href="#3-14-函数" class="headerlink" title="3.14 函数"></a>3.14 函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">functionName</span>(<span class="hljs-params">parameters</span>) &#123;<br>	<span class="hljs-comment">//</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li><p>声明可以出现在函数体中</p>
<ul>
<li>Local variables, “inner” functions</li>
<li>=&gt;<ul>
<li><code>(arg1, arg2) =&gt; &#123;//something here&#125;</code></li>
</ul>
</li>
</ul>
</li>
<li><p>匿名函数</p>
<ul>
<li><code>(function (x,y) &#123;return x+y&#125;) (2,3);</code></li>
</ul>
</li>
</ul>
<h3 id="3-15-参数"><a href="#3-15-参数" class="headerlink" title="3.15 参数"></a>3.15 参数</h3><ul>
<li><p>参数传递</p>
<ul>
<li>基本类型按值传递, 对象按引用传递</li>
</ul>
</li>
<li><p>调用可以提供任意数量的实参</p>
<ul>
<li>functionname.length : # of arguments in definition</li>
<li>functionname.arguments.length : # args in call</li>
</ul>
</li>
</ul>
<h1 id="6-2-JS-DOM、BOM"><a href="#6-2-JS-DOM、BOM" class="headerlink" title="6.2 JS DOM、BOM"></a>6.2 JS DOM、BOM</h1><h2 id="1-DOM"><a href="#1-DOM" class="headerlink" title="1 DOM"></a>1 DOM</h2><ul>
<li>当一个网页被加载时, 浏览器会创建一个页面的文档对象模型 (Document Object Model, DOM)</li>
<li>HTML DOM 模型被构造成一个对象树</li>
</ul>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221130222429027.png" alt="image-20221130222429027" style="zoom:80%;" /></p>
<h3 id="1-1-功能"><a href="#1-1-功能" class="headerlink" title="1.1 功能"></a>1.1 功能</h3><ul>
<li>通过对象模型, JS获得了创建动态 HTML 所需的所有功能<ul>
<li>JavaScript可以更改页面中的所有HTML元素</li>
<li>JavaScript可以更改页面中的所有HTML属性</li>
<li>JavaScript可以更改页面中的所有CSS样式</li>
<li>JavaScript可以删除现有的HTML元素和属性</li>
<li>JavaScript可以添加新的HTML元素和属性</li>
<li>JavaScript可以对页面中所有现有的HTML事件做出反应</li>
<li>JavaScript可以在页面中创建新的HTML事件</li>
</ul>
</li>
</ul>
<h3 id="1-2-DOM是什么"><a href="#1-2-DOM是什么" class="headerlink" title="1.2 DOM是什么"></a>1.2 DOM是什么</h3><ul>
<li>DOM是W3C(万维网联盟)标准</li>
<li>DOM定义了⼀个访问文档的标准:<ul>
<li>W3C文档对象模型(DOM)是⼀个平台和语言无关的接口, 它允许程序和脚本动态访问和更新文档的内容、结构和样式</li>
</ul>
</li>
<li>W3C DOM标准分为3个不同的部分:<ul>
<li>核心DOM——所有文档类型的标准模型</li>
<li>XML DOM——XML文档的标准模型</li>
<li>HTML DOM——HTML文档的标准模型</li>
</ul>
</li>
</ul>
<h3 id="1-3-HTML-DOM"><a href="#1-3-HTML-DOM" class="headerlink" title="1.3 HTML DOM"></a>1.3 HTML DOM</h3><ul>
<li>HTML DOM 是 HTML 的标准对象模型和编程接口。它定义了:<ul>
<li>HTML 元素作为对象</li>
<li>所有 HTML 元素的属性</li>
<li>访问所有 HTML 元素的方法</li>
<li>所有 HTML 元素的事件</li>
</ul>
</li>
<li>换句话说: HTML DOM 是获取、更改、添加或删除 HTML 元素的标准</li>
</ul>
<h3 id="1-4-DOM-编程接口"><a href="#1-4-DOM-编程接口" class="headerlink" title="1.4 DOM 编程接口"></a>1.4 DOM 编程接口</h3><ul>
<li>可以使用 JS(以及其他编程语言)访问 HTML DOM</li>
<li>在 DOM 中, 所有 HTML 元素都定义为对象</li>
<li>编程接口是每个对象的属性和方法</li>
<li>属性是可以获取或设置的值(如更改 HTML 元素的内容)</li>
<li>方法是可以执行的操作(如添加或删除 HTML 元素)</li>
</ul>
<h3 id="1-5-DOM-元素"><a href="#1-5-DOM-元素" class="headerlink" title="1.5 DOM 元素"></a>1.5 DOM 元素</h3><ul>
<li>页面上的每个元素都有一个对应的 DOM 对象</li>
<li>使用 <code>objectName.attributeName</code> 访问/修改 DOM 对象的属性</li>
<li>事实上, 浏览器在运行时将 Web 页面计算为相应的 DOM 对象</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">	<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;Hello World!&quot;</span>;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<h3 id="1-6-查找-HTML-元素"><a href="#1-6-查找-HTML-元素" class="headerlink" title="1.6 查找 HTML 元素"></a>1.6 查找 HTML 元素</h3><ul>
<li>通过 id 查找<ul>
<li><code>var myElement = document.getElementById(&quot;intro&quot;);</code></li>
</ul>
</li>
<li>通过 标记名 查找<ul>
<li><code>var x = document.getElementsByTagName(&quot;p&quot;)</code></li>
</ul>
</li>
<li>通过 类名 查找<ul>
<li><code>var x = document.getElementsByClassName(&quot;intro&quot;);</code></li>
</ul>
</li>
<li>通过 CSS选择器 查找<ul>
<li><code>var x = document.querySelectorAll(&quot;p.intro&quot;);</code></li>
</ul>
</li>
<li>通过 HTML对象集合 查找<ul>
<li><code>var x = document.forms[&quot;frm1&quot;];</code></li>
</ul>
</li>
</ul>
<h3 id="1-7-JS-HTML-DOM-导航"><a href="#1-7-JS-HTML-DOM-导航" class="headerlink" title="1.7 JS HTML DOM 导航"></a>1.7 JS HTML DOM 导航</h3><ul>
<li>页面的元素嵌套在对象的树状结构中——DOM树<ul>
<li>DOM 具有遍历该树的属性和方法</li>
</ul>
</li>
</ul>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221130222429027.png" alt="image-20221130222429027" style="zoom:80%;" /></p>
<h4 id="1-7-1-DOM-节点类型"><a href="#1-7-1-DOM-节点类型" class="headerlink" title="1.7.1 DOM 节点类型"></a>1.7.1 DOM 节点类型</h4><ul>
<li>每个节点都有 nodeType(节点类型)、nodeName(节点名称)、nodeValue(节点值) 属性</li>
<li>HTML DOM 中常出现的类型<ul>
<li>Element(元素节点)</li>
<li>Text(文本节点)</li>
<li>Attr(属性节点)</li>
<li>Comment(注释节点)</li>
<li>Document(文档节点)</li>
<li>DocumentFragment(文档片段节点)</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>    This is a paragraph of text with a<br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/path/page,html&quot;</span>&gt;</span>link in it<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221201152247948.png" alt="image-20221201152247948" style="zoom:80%;" /></p>
<h4 id="1-7-2-遍历-DOM-树"><a href="#1-7-2-遍历-DOM-树" class="headerlink" title="1.7.2 遍历 DOM 树"></a>1.7.2 遍历 DOM 树</h4><ul>
<li><p>每个节点的 DOM 对象都有以下属性</p>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221201152838756.png" alt="image-20221201152838756" style="zoom:80%;" /></p>
</li>
<li><p>浏览器不兼容问题 (IE很糟糕)</p>
</li>
<li><p>遍历实例</p>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221201152951766.png" alt="image-20221201152951766" style="zoom:80%;" /></p>
</li>
</ul>
<h2 id="2-BOM"><a href="#2-BOM" class="headerlink" title="2 BOM"></a>2 BOM</h2><ul>
<li>浏览器对象模型(Browser Object Model, 简称 BOM)是 JS 的组成部分之一, BOM 赋予了 JS 程序与浏览器交互的能力</li>
<li>每个浏览器的 JS 程序都可以引入以下全局对象</li>
</ul>
<p><img src="https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221201153325357.png" alt="image-20221201153325357" style="zoom:80%;" /></p>
<h3 id="2-1-window-对象"><a href="#2-1-window-对象" class="headerlink" title="2.1 window 对象"></a>2.1 window 对象</h3><ul>
<li>所有浏览器都支持 window 对象。他表示浏览器的窗口</li>
<li>所有 JS 全局对象、函数和变量都自动成为窗口对象的成员</li>
<li>在客户端 JS 中, Window 对象是全局对象, 所有的表达式都在当前的环境中计算。也就是说, 要引用当前窗口根本不需要特殊的语法, 可以把那个窗口的属性作为全局变量来使用<ul>
<li><code>window.document.getElementById(&quot;header&quot;);</code></li>
<li><code>document.getElementById(&quot;header&quot;);</code></li>
</ul>
</li>
</ul>
<h3 id="2-2-document-对象"><a href="#2-2-document-对象" class="headerlink" title="2.2 document 对象"></a>2.2 document 对象</h3><ul>
<li>每个载入浏览器的 HTML 文档都会成为 Document 对象</li>
<li>Document 对象使我们可以从脚本中对 HTML 页面中的所有元素进行访问</li>
<li>提示: Document 对象是 Window 对象的一部分, 可以通过 <code>window.document</code> 属性对其进行访问</li>
<li>Document 对象是 HTML 文档的根节点</li>
<li>属性:<ul>
<li>anchors, body, cookie, domain, forms, images, links, referrer, title, URL</li>
</ul>
</li>
<li>方法<ul>
<li>getElementById</li>
<li>getElementsByName</li>
<li>getElementsByTagName</li>
<li>close, open, write, writeln</li>
</ul>
</li>
</ul>
<h3 id="2-3-location-对象"><a href="#2-3-location-对象" class="headerlink" title="2.3 location 对象"></a>2.3 location 对象</h3><ul>
<li>Location 对象包含有关当前 URL 的信息</li>
<li>Location 对象是 Window 对象的一个部分, 可通过 <code>window.location</code> 属性来访问</li>
<li>例子<ul>
<li><code>window.location.href</code> 设置或返回完整的 URL</li>
<li><code>window.location.hostname</code> 设置或返回当前 URL 的主机名</li>
<li><code>window.location.pathname</code> 设置或返回当前 URL 的路径部分</li>
<li><code>window.location.protocol</code> 设置或返回当前 URL 的协议。 (<a target="_blank" rel="noopener" href="http://或https://">http://或https://</a>)</li>
<li><code>window.location.assign()</code> 加载新的文档</li>
</ul>
</li>
</ul>
<h3 id="2-4-navigator-对象"><a href="#2-4-navigator-对象" class="headerlink" title="2.4 navigator 对象"></a>2.4 navigator 对象</h3><ul>
<li><code>window.navigator</code> 对象包含有关浏览器的信息</li>
<li>注释: 没有应用于 navigator 对象的公开标准, 不过所有浏览器都支持该对象</li>
<li>例子:<ul>
<li><code>navigator.appName</code> 返回浏览器的名称</li>
<li><code>navigator.onLine</code> 返回指明系统是否处于脱机模式的布尔值</li>
<li><code>navigator.appCodeName</code> 返回浏览器的代码名</li>
<li><code>navigator.platform</code> 返回运行浏览器的操作系统平台</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> =</span><br><span class="language-javascript">    <span class="hljs-string">&quot;Name is &quot;</span> + navigator.<span class="hljs-property">appName</span> + <span class="hljs-string">&quot;. Code name is &quot;</span> +</span><br><span class="language-javascript">    navigator.<span class="hljs-property">appCodeName</span>;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>
<ul>
<li><strong>注意: </strong>来自 navigator 对象的信息通常会产生误导, 不应该用于检测浏览器版本, 因为:<ul>
<li>不同的浏览器可以使用相同的名称</li>
<li>浏览器所有者可以更改浏览器数据</li>
<li>一些浏览器为了绕过站点测试而故意错误标识自身</li>
<li>浏览器不能报告比浏览器晚发布的新操作系统</li>
</ul>
</li>
</ul>
<h3 id="2-5-screen-对象"><a href="#2-5-screen-对象" class="headerlink" title="2.5 screen 对象"></a>2.5 screen 对象</h3><ul>
<li><p><code>window.screen</code> 对象包含有关客户端显示屏幕的信息</p>
</li>
<li><p>注释: 没有应用于 screen 对象的公开标准, 不过所有浏览器都支持该对象</p>
</li>
<li>属性:<ul>
<li><code>screen.width</code> 返回显示器屏幕的宽度</li>
<li><code>screen.height</code> 返回显示屏幕的高度</li>
<li><code>screen.availWidth</code> 返回显示屏幕的宽度 (除 Windows 任务栏之外)</li>
<li><code>screen.availHeight</code> 返回显示屏幕的高度 (除 Windows 任务栏之外)</li>
<li><code>screen.colorDepth</code> 返回目标设备或缓冲器上的调色板的比特深度</li>
<li><code>screen.pixelDepth</code> 返回显示屏幕的颜色分辨率（比特每像素）</li>
</ul>
</li>
</ul>
<h3 id="2-6-history-对象"><a href="#2-6-history-对象" class="headerlink" title="2.6 history 对象"></a>2.6 history 对象</h3><ul>
<li><code>window.history</code> 对象包括用户(在浏览器窗口中)访问过的 URL</li>
<li>History 对象是 window 对象的一部分, 可通过 <code>window.history</code> 属性对其进行访问</li>
<li>为了保护用户的隐私, 对 JS 访问该对象的方式有限制</li>
<li>注释: 没有应用于 History 对象的公开标准, 不过所有浏览器都支持该对象</li>
<li>方法:<ul>
<li><code>history.back()</code> 加载 history 列表中的前一个 URL</li>
<li><code>history.forward()</code> 加载 history 列表中的下一个 URL</li>
</ul>
</li>
</ul>
<h3 id="2-7-Cookies"><a href="#2-7-Cookies" class="headerlink" title="2.7 Cookies"></a>2.7 Cookies</h3><ul>
<li>Cookies 可以让你在网页中存储用户信息</li>
<li>cookie 是存储在计算机上的小文本文件中的数据</li>
<li>Cookies 的发明是为了解决”如何记住用户信息”的问题:<ul>
<li>当⼀个用户访问⼀个网页时, 他的名字会被存储在⼀个 cookie 中。下次用户访问该页面时, cookie 就会”记住”他的名字。</li>
</ul>
</li>
<li>cookie 以 名称-值对 的形式保存, 例如 username=Tom</li>
<li>当浏览器从服务器请求⼀个网页时, 属于该网页的 cookies 被添加到请求中。通过这种方式, 服务器获得必要的数据来”记住”关于用户的信息</li>
</ul>
<h4 id="2-7-1-用-JS-创建一个-Cookie"><a href="#2-7-1-用-JS-创建一个-Cookie" class="headerlink" title="2.7.1 用 JS 创建一个 Cookie"></a>2.7.1 用 JS 创建一个 Cookie</h4><ul>
<li><p>JS 可以使用 <code>document.cookie</code> 属性来创建、读取和删除cookie</p>
<ul>
<li>例如: <code>document.cookie=&quot;username=Tom&quot;;</code></li>
</ul>
</li>
<li><p>还可以添加一个过期日期(以UTC时间表示)。缺省情况下, 关闭浏览器时删除 cookie:</p>
<ul>
<li><code>document.cookie=&quot;username=Tom; expires=Thu, 18 Sep 2015 10:00:00 UTC&quot;;</code></li>
</ul>
</li>
<li><p>通过路径参数，可以告诉浏览器 cookie 属于哪个路径。缺省情况下，cookie 属于当前页面</p>
<ul>
<li><code>document.cookie=&quot;username=Tom; expires=Thu, 18 Sep 2015 10:00:00 UTC; path=/&quot;;</code></li>
</ul>
</li>
</ul>
<h4 id="2-7-2-如何使用-cookies"><a href="#2-7-2-如何使用-cookies" class="headerlink" title="2.7.2 如何使用 cookies"></a>2.7.2 如何使用 cookies</h4><ul>
<li><p>使用 JS 读取一个 cookie</p>
<ul>
<li><p><code>var x = document.cookie;</code></p>
</li>
<li><p><code>document.cookie</code> will return all cookies in one string much like: <code>cookie1=value1; cookie2=value2; cookie3=value3;</code></p>
</li>
</ul>
</li>
<li><p>使用 JS 修改</p>
<ul>
<li><code>document.cookie=&quot;username=Tom; expires=Thu, 18 Sep 2015 10:00:00 UTC; path=/&quot;;</code></li>
</ul>
</li>
<li><p>使用 JS 删除 Cookie，非常简单，只需将expires参数设置为⼀个过去的日期:</p>
<ul>
<li><code>document.cookie = &quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC&quot;;</code></li>
<li>注意，在删除 cookie 时不必指定 cookie 值。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setCookie</span>(<span class="hljs-params">cname, cvalue, exdays</span>) &#123;<br>    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    d.<span class="hljs-title function_">setTime</span>(d.<span class="hljs-title function_">getTime</span>() + (exdays * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>));<br>    <span class="hljs-keyword">var</span> expires = <span class="hljs-string">&quot;expires=&quot;</span> + d.<span class="hljs-title function_">toGMTString</span>();<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span> = cname + <span class="hljs-string">&quot;=&quot;</span> + cvalue + <span class="hljs-string">&quot;; &quot;</span> + expires;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCookie</span>(<span class="hljs-params">cname</span>) &#123;<br>    <span class="hljs-keyword">var</span> name = cname + <span class="hljs-string">&quot;=&quot;</span>;<br>    <span class="hljs-keyword">var</span> ca = <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;;&#x27;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; ca.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">var</span> c = ca[i];<br>        <span class="hljs-keyword">while</span> (c.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>) == <span class="hljs-string">&#x27; &#x27;</span>) &#123;<br>            c = c.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (c.<span class="hljs-title function_">indexOf</span>(name) == <span class="hljs-number">0</span>) &#123;<br>        	<span class="hljs-keyword">return</span> c.<span class="hljs-title function_">substring</span>(name.<span class="hljs-property">length</span>, c.<span class="hljs-property">length</span>);<br>    	&#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkCookie</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> user = <span class="hljs-title function_">getCookie</span>(<span class="hljs-string">&quot;username&quot;</span>);<br>    <span class="hljs-keyword">if</span> (user != <span class="hljs-string">&quot;&quot;</span>) &#123;<br>    	<span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Welcome again &quot;</span> + user);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        user = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;Please enter your name:&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>        <span class="hljs-keyword">if</span> (user != <span class="hljs-string">&quot;&quot;</span> &amp;&amp; user != <span class="hljs-literal">null</span>) &#123;<br>        	<span class="hljs-title function_">setCookie</span>(<span class="hljs-string">&quot;username&quot;</span>, user, <span class="hljs-number">30</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2022/11/21/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-3-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
              2023-08-09 14:53:19
            </span>
            
                  <span class="post-categories">
                    <i class="iconfont icon-bookmark" title="Categories"></i>
                    
                    <span class="span--category">
                      <a href="/categories/NJU/" title="NJU">
                        <b>#</b> NJU
                      </a>
                    </span>
                    
                    <span class="span--category">
                      <a href="/categories/NJU/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="Web前端开发">
                        <b>#</b> Web前端开发
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/2022/12/02/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-5-%E4%BA%8B%E4%BB%B6/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#6-1-JS-Basics"><span class="toc-text">6.1 JS Basics</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9F%BA%E7%A1%80"><span class="toc-text">1 客户端基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%84%9A%E6%9C%AC"><span class="toc-text">1.1 客户端脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%BC%96%E7%A8%8B"><span class="toc-text">1.2 客户端编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%BC%96%E7%A8%8B"><span class="toc-text">1.3 客户端与服务器端编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%B8%B8%E8%A7%81%E8%84%9A%E6%9C%AC%E4%BB%BB%E5%8A%A1"><span class="toc-text">1.4 常见脚本任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-JavaScript%E6%A6%82%E8%BF%B0"><span class="toc-text">2 JavaScript概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%BD%95%E4%B8%BAJavaScript"><span class="toc-text">2.1 何为JavaScript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-JS%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-text">2.2 JS的优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-JS%E6%A6%82%E8%BF%B0"><span class="toc-text">2.3 JS概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-JavaScript-vs-Java"><span class="toc-text">2.4 JavaScript vs. Java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E4%BD%BF%E7%94%A8-lt-script-gt"><span class="toc-text">2.5 使用&lt;script&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-JavaScript%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">3 JavaScript基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80"><span class="toc-text">3.1 语言基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%AF%B9%E8%B1%A1"><span class="toc-text">3.2 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%8F%98%E9%87%8F%E4%B8%8E%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.3 变量与类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%95%B0%E5%80%BC"><span class="toc-text">3.4 数值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-IEEE-754"><span class="toc-text">3.5 IEEE 754</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-String"><span class="toc-text">3.6 String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E5%B8%83%E5%B0%94%E5%BC%8F%E7%8A%AF%E8%A0%A2%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.7 布尔式犯蠢类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-null-NaN-undefined"><span class="toc-text">3.8 null, NaN, undefined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9"><span class="toc-text">3.9 &#x3D;&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-Math%E5%AF%B9%E8%B1%A1"><span class="toc-text">3.10 Math对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3.11 逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-12-%E6%95%B0%E7%BB%84"><span class="toc-text">3.12 数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-13-Array%E6%96%B9%E6%B3%95"><span class="toc-text">3.13 Array方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-14-%E5%87%BD%E6%95%B0"><span class="toc-text">3.14 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-15-%E5%8F%82%E6%95%B0"><span class="toc-text">3.15 参数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-2-JS-DOM%E3%80%81BOM"><span class="toc-text">6.2 JS DOM、BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-DOM"><span class="toc-text">1 DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%8A%9F%E8%83%BD"><span class="toc-text">1.1 功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-DOM%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1.2 DOM是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-HTML-DOM"><span class="toc-text">1.3 HTML DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-DOM-%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-text">1.4 DOM 编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-DOM-%E5%85%83%E7%B4%A0"><span class="toc-text">1.5 DOM 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E6%9F%A5%E6%89%BE-HTML-%E5%85%83%E7%B4%A0"><span class="toc-text">1.6 查找 HTML 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-JS-HTML-DOM-%E5%AF%BC%E8%88%AA"><span class="toc-text">1.7 JS HTML DOM 导航</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-1-DOM-%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.7.1 DOM 节点类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-2-%E9%81%8D%E5%8E%86-DOM-%E6%A0%91"><span class="toc-text">1.7.2 遍历 DOM 树</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-BOM"><span class="toc-text">2 BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-window-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.1 window 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-document-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.2 document 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-location-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.3 location 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-navigator-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.4 navigator 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-screen-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.5 screen 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-history-%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.6 history 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-Cookies"><span class="toc-text">2.7 Cookies</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-1-%E7%94%A8-JS-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-Cookie"><span class="toc-text">2.7.1 用 JS 创建一个 Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-2-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-cookies"><span class="toc-text">2.7.2 如何使用 cookies</span></a></li></ol></li></ol></li></ol></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          
              <a title="github" target="_blank" rel="noopener" href="https://github.com/Whale-lyi">
                <i class="iconfont icon-github"></i>
              </a>
              
        </li>
        
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Copyright © 2023 Oranges</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
  
    <div class="footer-views">
      
          本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
      
          本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        
      
          本站访客数<span id="busuanzi_value_site_uv"></span>人
        
      
    </div>
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91(4)%20JavaScript%E3%80%81DOM%E3%80%81BOM + '&url=' + https%3A%2F%2Fwhale-lyi.github.io%2F2022%2F11%2F25%2FWeb%25E5%2589%258D%25E7%25AB%25AF%25E5%25BC%2580%25E5%258F%2591-4-JavaScript%2F + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=https://whale-lyi.github.io/2022/11/25/Web%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-4-JavaScript/" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
